<script>
  // Try and ensure the color theme is applied as early as possible to prevent "flash of inaccurate color"
(() => {
  var darkThemeSelected =
    localStorage.getItem("darkSwitch") !== null &&
    localStorage.getItem("darkSwitch") === "dark";
  darkThemeSelected
    ? document.documentElement.setAttribute("color-theme", "dark")
    : document.documentElement.removeAttribute("color-theme");
})();
</script>

{{ if eq hugo.Environment "production" -}}

<link href="/dist/css/bootstrap.min.css" rel="stylesheet" {{ printf "integrity=%q" .Site.Params.cdn.css_hash | safeHTMLAttr }} crossorigin="anonymous">

  {{ $sassOptions := (dict "enableSourceMap" true) }} {{ $styles :=
    resources.Get "css/style.scss" | toCSS $sassOptions | postCSS | minify }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" />

{{- else -}}
  {{- $docs := resources.Get "dev/docs.css"}}
  <link href="{{ $docs.Permalink}}" rel="stylesheet">
{{- end }}
